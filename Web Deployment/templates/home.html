{% load static %}

<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="with-device-width, initial-scale=1.0">
        <title>
            Project
        </title>
        <link rel="stylesheet" href="{% static 'main.css' %}">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    </head>
    <body>
          <section class="header">
            <h1 style="position: fixed; width : 100%">
                Utec Attendence Management system
            </h1>

            <div class="logout-btn">
                <a href="{% url 'logout' %}">Logout</a>
            </div>

      
            <nav>
                <div class="nav-link">
                    <ul>
                         <li><a href="{% url 'home' %}">Home</a></li>
                         <li><a href="{% url 'classroom' %}">Mark Attendence</a></li>
                         <li><a href="{% url 'managestd' %}">Manage Students</a></li>
                         <li><a href="{% url 'attendance' %}">Attendence Report</a></li>
                         <li><a href="#">About</a></li>
                                                

                    </ul>
                </div>

            </nav>
        </section>

        <div id="home" class="heading-text-centre">
            <h2>Welcome To Real Time Attendence System Using face Recognition</h2>
        </div>

        <div id="classroom" class="d-flex justify-content-around" style="position:absolute;top:50%;z-index:9999;left:30%; width:50%;visibility:hidden;">
            <button style="min-width:100px;" class="btn btn-primary faculty">Civil</button>
            <button style="min-width:100px;" class="btn btn-primary faculty">Computer</button>
            <button style="min-width:100px;" class="btn btn-primary faculty">Electrical</button>
        </div>

        <div id="section" class="d-flex justify-content-around" style="position:absolute;top:50%;z-index:9999;left:30%; width:50%;visibility:hidden;">
        </div>

        <div id="classroom-section" style="position:absolute;top:50%;z-index:9999;left:30%; width:50%;visibility:hidden;">
            classroom
        </div>

        <div id="attendance-section" style="position:absolute;top:50%;z-index:9999;left:30%; width:50%;visibility:hidden;">
            attendace
        </div>
            
          
            
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js" integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous"></script>
    <script>
        const home = document.getElementById("home");
        const classnattd = document.getElementById("classroom");
        const sections = document.getElementById("section");
        const classsection = document.getElementById("classroom-section");
        const attendsection = document.getElementById("attendance-section");
        
        let section = {
                1:4,
                2:5,
                3:6
            }
        
        const classattd = (ca) => {
            console.log(ca);
            home.style.display = "none";
            classnattd.style.visibility = "visible";
            sections.style.visibility = "hidden";
            classsection.style.visibility = "hidden";
            attendsection.style.visibility = "hidden";
            let faculty = document.getElementsByClassName("faculty");
            for(i=0; i<3; i++){
                faculty[i].setAttribute('onclick',`faculty(${i+1}, "${ca}")`);
            }
                
        };

        const faculty = (fa, ca) => {
            sections.innerHTML = "";
            home.style.display = "none";
            classnattd.style.visibility = "hidden";
            sections.style.visibility = "visible";
            classsection.style.visibility = "hidden";
            attendsection.style.visibility = "hidden";
            for(i=0; i<section[fa]; i++){
                let button = document.createElement("button");
                button.setAttribute("style", `min-width:100px;`);
                button.setAttribute("class", `btn btn-primary`);
                button.innerText = "section "+(i+1);
                button.setAttribute("onclick", `sectionf(${fa}, ${i+1}, "${ca}")`);
                sections.appendChild(button);
            }               
        };

        const sectionf = (fa, sec, ca) => {
            home.style.display = "none";
            classnattd.style.visibility = "hidden";
            sections.style.visibility = "hidden";
            if(ca == "classroom"){
                classsection.style.visibility = "visible";
                attendsection.style.visibility = "hidden";
            }
            else{
                classsection.style.visibility = "hidden";
                attendsection.style.visibility = "visible";
            }
        }
       
    </script>
    </body>
</html>